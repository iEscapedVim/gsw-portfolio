---
const { frontmatter } = Astro.props;
import bg from "@imgs/singlepost.jpg";
import Head from '@comps/general/head.astro';
import Header from '@comps/general/header.astro';

import { getCollection } from 'astro:content';
const allPosts = await getCollection("news");
import LatestPosts from '@comps/news/sidebarList.astro';
---
<!doctype html>
<html lang="en">
	<Head><title>{frontmatter.title} | GSW</title></Head>
	<body>
	<Header />
        <div class="w-full py-24" style={{ backgroundImage: `url(${bg.src})`, backgroundSize: 'cover', backgroundPosition: 'relative', backgroundRepeat: 'no-repeat' }} >
            <div class="flex flex-col justify-center items-center gap-3">
                <h1 class="text-4xl text-gray-900 font-bold">{frontmatter.title}</h1>
                <p class="text-md text-gray-900 dark:text-white">Home > {frontmatter.title}</p>
            </div>
        </div>

        <div class="w-full flex flex-row justify-start items-start">
            <div class="w-2/3 m-12 flex flex-col justify-start items-start px-12 py-10 prose-headings:w-full prose-h1:text-5xl prose-h2:text-4xl prose-h3:text-3xl prose-h4:text-2xl prose-h5:text-xl prose-h6:text-lg prose-headings:py-4 prose-headings:font-semibold prose-p:py-4 prose-ol:list-disc prose-ul:list-decimal prose-li:py-1">
                <slot />

            </div>
            <div class="w-1/3 my-12 text-start">
                <div class="flex flex-col py-12">
                    <h1 class="text-3xl">Table of Content</h1>
                    
                </div>
                <h1 class="text-3xl">Latest News</h1>
                {allPosts.map((p) => <LatestPosts post={p}/>)}
            </div>
        </div>
	</body>
</html>
<style is:global>
	@tailwind base;
	@tailwind components;
	@tailwind utilities;
	h1, h2, h3, h4, h5, h6 { font-family: 'Unna' !important; }
	body { font-family: 'Open Sans', system-ui !important; }
</style>
